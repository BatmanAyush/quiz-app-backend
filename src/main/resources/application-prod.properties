# --- Runtime/network ---
# Respect X-Forwarded-* headers behind Render?s proxy, so redirects & OAuth URLs are correct
server.forward-headers-strategy=framework

# --- JPA/Hibernate ---
spring.jpa.hibernate.ddl-auto=validate   # prod: verify schema, don?t mutate it
spring.jpa.open-in-view=false
spring.jpa.show-sql=false

# --- SQL init/migrations ---
spring.sql.init.mode=never               # you already seeded prod outside the app

# If/when you add Flyway, uncomment:
# spring.flyway.enabled=true
# spring.flyway.locations=classpath:db/migration
# spring.flyway.baseline-on-migrate=true

# --- Connection pool (small & safe for tiny instances) ---
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=0
spring.datasource.hikari.idle-timeout=600000      # 10m
spring.datasource.hikari.max-lifetime=1800000     # 30m

# --- Actuator for Render health checks ---
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
